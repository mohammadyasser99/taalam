<div class="container" style="margin-top: 50px;">
    <h2>List of Announcements</h2>
  
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Body</th>
          <th>End of Sale</th>
          <th>Discount</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <!-- Correcting the ngFor directive -->
         @for(announce of announcements;track announce.id){
            <tr >
                <td>{{announce.body}}</td>
                <td>{{announce.endOfSale | date: 'short'}}</td>
                <td>{{announce.discount}}%</td>
                <td>
                  <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#editform" (click)="updatecurrentannouncement(announce.id)">Edit</button>
                </td>
                <td>
                  <button class="btn btn-danger" (click)="deleteannouncement(announce.id)">Delete</button>
                </td>
              </tr>
         }
 
      </tbody>
    </table>
  
    <!-- Edit Modal -->
    <div class="modal fade" id="editform" tabindex="-1" aria-labelledby="editformLabel" aria-hidden="true" >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="editformLabel">Edit Announcement</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form >
              <div class="mb-3">
                <label for="body" class="form-label">Body</label>
                <input type="text" class="form-control" id="body" placeholder="Enter announcement body" name="body" [(ngModel)]="editannouncementmodel.body" />
              </div>
              <div class="mb-3">
                <label for="endofsale" class="form-label">End of Sale Date</label>
                <input type="datetime-local" class="form-control" id="endofsale" [min]="minDate" name="endofsale" [(ngModel)]="editannouncementmodel.endOfSale" />
              </div>
              <div class="mb-3">
                <label for="discount" class="form-label">Discount</label>
                <input type="number" class="form-control" id="discount" placeholder="Enter discount" name="discount" [(ngModel)]="editannouncementmodel.discount" />
              </div>
          
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" #closeButtonedit id="closeButtonedit">Close</button>
            <button type="button" class="btn btn-primary" (click)="onEditSubmit()">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Create Announcement Modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createannouncement">
  Create course
    </button>
  
    <div class="modal fade" id="createannouncement" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="createannouncementLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="createannouncementLabel">Create Announcement</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form >
              <div class="mb-3">
                <label for="body" class="form-label">Body</label>
                <input type="text" class="form-control" id="body" placeholder="Enter announcement body" name="body" [(ngModel)]="announcement.body" required/>
              </div>
              <div class="mb-3">
                <label for="endofsale" class="form-label">End of Sale Date</label>
                <input type="datetime-local" class="form-control" id="endofsale" [min]="minDate" name="endofsale" [(ngModel)]="announcement.endOfSale" required/>
              </div>
              <div class="mb-3">
                <label for="discount" class="form-label">Discount</label>
                <input type="number" class="form-control" id="discount" placeholder="Enter discount" name="discount" [(ngModel)]="announcement.discount" max="100" min="0" required/>
              </div>
         
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" #closeButtoncreate id="closeButtoncreate">Close</button>
            <button type="button" class="btn btn-primary" (click)="onSubmitcreate()">create announcement</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  